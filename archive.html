<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>آرشیو برنامه‌ها | حسینیه سیدالشهدا</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet">
</head>
<body class="archive-page">
    <div class="particles-bg"></div>

    <!-- هدر -->
    <header class="header glass-effect">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">🕌</div>
                    <div class="logo-text">
                        <h1>حسینیه سیدالشهدا</h1>
                        <p class="tagline">یا حسین (ع)</p>
                    </div>
                </div>
                <button class="menu-toggle" id="menuToggle" aria-label="منو">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <nav class="nav" id="mainNav">
                    <ul>
                        <li><a href="index.html">صفحه اصلی</a></li>
                        <li><a href="programs.html">برنامه‌های روزانه</a></li>
                        <li><a href="tafsir.html">تفسیر قرآن</a></li>
                        <li><a href="archive.html" class="active">آرشیو</a></li>
                        <li><a href="contact.html">تماس با ما</a></li>
                        <li><a href="admin.html" class="admin-link">مدیریت</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <div class="page-header-content">
                <div class="page-badge">آرشیو کامل</div>
                <h1 class="page-title">📚 آرشیو برنامه‌ها</h1>
                <p class="page-subtitle">دسترسی به تمام برنامه‌های گذشته</p>
            </div>
        </div>
    </section>

    <!-- فیلترها -->
    <section class="filter-section">
        <div class="container">
            <div class="filter-card glass-effect">
                <div class="filter-group">
                    <label>🔍 جستجو</label>
                    <input type="text" id="searchArchive" placeholder="جستجو در عنوان یا توضیحات...">
                </div>
                <div class="filter-group">
                    <label>📁 دسته‌بندی</label>
                    <select id="filterCategory">
                        <option value="">همه دسته‌ها</option>
                        <option value="محرم">محرم</option>
                        <option value="صفر">صفر</option>
                        <option value="رمضان">رمضان</option>
                        <option value="مناسبت">مناسبت‌های دیگر</option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <!-- آرشیو -->
    <section class="archive-section-modern">
        <div class="container">
            <div class="archive-grid-modern" id="archiveGrid">
                <!-- آرشیو به صورت داینامیک اضافه می‌شود -->
            </div>
        </div>
    </section>

    <!-- فوتر -->
    <footer class="footer-modern">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>حسینیه سیدالشهدا</h3>
                    <p>خادم شما در مسیر ولایت و فرهنگ حسینی</p>
                </div>
                <div class="footer-section">
                    <h3>دسترسی سریع</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">صفحه اصلی</a></li>
                        <li><a href="programs.html">برنامه‌های روزانه</a></li>
                        <li><a href="archive.html">آرشیو</a></li>
                        <li><a href="contact.html">تماس با ما</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; ۱۴۰۳ حسینیه سیدالشهدا. تمامی حقوق محفوظ است.</p>
            </div>
        </div>
        <button class="hidden-key" onclick="window.location.href='admin.html'">🔑</button>
    </footer>

    <script src="scripts.js"></script>
    <script>
        // بارگذاری آرشیو
        function loadArchive() {
            const archives = JSON.parse(localStorage.getItem('hosseinieh_archive') || '[]');
            const container = document.getElementById('archiveGrid');
            
            if (!container) return;
            
            if (archives.length === 0) {
                container.innerHTML = `
                    <div class="archive-card-modern glass-effect">
                        <div class="archive-card-content">
                            <h3>مراسم عاشورا ۱۴۰۲</h3>
                            <div class="archive-meta">
                                <span class="archive-date">📅 1402-01-10</span>
                                <span class="archive-category">محرم</span>
                            </div>
                            <p>مراسم عزاداری روز عاشورای حسینی</p>
                            <a href="#" class="btn-modern btn-secondary-modern btn-small">
                                <span>مشاهده</span>
                                <i>→</i>
                            </a>
                        </div>
                    </div>
                    <div class="archive-card-modern glass-effect">
                        <div class="archive-card-content">
                            <h3>شب احیاء رمضان</h3>
                            <div class="archive-meta">
                                <span class="archive-date">📅 1402-02-19</span>
                                <span class="archive-category">رمضان</span>
                            </div>
                            <p>برنامه احیای شب‌های قدر ماه رمضان</p>
                            <a href="#" class="btn-modern btn-secondary-modern btn-small">
                                <span>مشاهده</span>
                                <i>→</i>
                            </a>
                        </div>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = archives.map(a => `
                <div class="archive-card-modern glass-effect">
                    <div class="archive-card-content">
                        <h3>${a.title}</h3>
                        <div class="archive-meta">
                            <span class="archive-date">📅 ${a.date}</span>
                            <span class="archive-category">${a.category}</span>
                        </div>
                        <p>${a.description}</p>
                        <a href="#" class="btn-modern btn-secondary-modern btn-small">
                            <span>مشاهده</span>
                            <i>→</i>
                        </a>
                    </div>
                </div>
            `).join('');
        }
        
        // فیلترها
        document.getElementById('searchArchive')?.addEventListener('input', filterArchive);
        document.getElementById('filterCategory')?.addEventListener('change', filterArchive);
        
        function filterArchive() {
            const search = document.getElementById('searchArchive')?.value.toLowerCase() || '';
            const category = document.getElementById('filterCategory')?.value || '';
            
            const archives = JSON.parse(localStorage.getItem('hosseinieh_archive') || '[]');
            const filtered = archives.filter(a => {
                const matchSearch = a.title.toLowerCase().includes(search) || a.description.toLowerCase().includes(search);
                const matchCategory = !category || a.category === category;
                return matchSearch && matchCategory;
            });
            
            const container = document.getElementById('archiveGrid');
            container.innerHTML = filtered.length === 0 ?
                '<p style="grid-column:1/-1;text-align:center;color:var(--text-light);padding:60px 20px">موردی یافت نشد</p>' :
                filtered.map(a => `
                    <div class="archive-card-modern glass-effect">
                        <div class="archive-card-content">
                            <h3>${a.title}</h3>
                            <div class="archive-meta">
                                <span class="archive-date">📅 ${a.date}</span>
                                <span class="archive-category">${a.category}</span>
                            </div>
                            <p>${a.description}</p>
                            <a href="#" class="btn-modern btn-secondary-modern btn-small">
                                <span>مشاهده</span>
                                <i>→</i>
                            </a>
                        </div>
                    </div>
                `).join('');
        }
        
        // منوی موبایل
        document.getElementById('menuToggle')?.addEventListener('click', () => {
            document.getElementById('mainNav')?.classList.toggle('active');
        });
        
        function createParticles() {
            const container = document.querySelector('.particles-bg');
            if (!container) return;
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 20 + 's';
                particle.style.animationDuration = (Math.random() * 10 + 10) + 's';
                container.appendChild(particle);
            }
        }
        
        // اجرا
        createParticles();
        loadArchive();
        
        // بارگذاری مجدد
        window.addEventListener('storage', (e) => {
            if (e.key === 'hosseinieh_archive') {
                loadArchive();
            }
        });
    </script>
        <script type="text/javascript">
  !function(){var i="aTzwaw",a=window,d=document;function g(){var g=d.createElement("script"),s="https://www.goftino.com/widget/"+i,l=localStorage.getItem("goftino_"+i);g.async=!0,g.src=l?s+"?o="+l:s;d.getElementsByTagName("head")[0].appendChild(g);}"complete"===d.readyState?g():a.attachEvent?a.attachEvent("onload",g):a.addEventListener("load",g,!1);}();
</script>
</body>
</html>

